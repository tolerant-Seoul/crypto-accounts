# BIP-39 학습 노트

## 엔트로피(Entropy)랑 체크섬(Checksum)은 왜 필요할까?

### 엔트로피(Entropy)

"진짜 랜덤 원본"입니다.

지갑의 안전성은 결국 "남이 내 키를 맞출 수 있냐"인데, 그걸 못 맞추게 만드는 재료가 엔트로피예요. (충분히 랜덤하고 충분히 길어야 안전)

### 체크섬(Checksum)

"오타/단어 순서 실수"를 잡아내는 검증 비트입니다.

니모닉은 사람이 적고 옮기다 보니 실수가 생기죠. 체크섬이 있으면 **니모닉이 유효한지(말이 되는지)**를 빠르게 걸러낼 수 있습니다.

(즉, 체크섬은 보안을 올리기보단 실수 방지/무결성 검증 성격이 큽니다)

### 요약

지갑의 “비밀번호(엄청 긴 랜덤 숫자)”를 사람이 적기 쉬운 “단어 12개(또는 24개)”로 바꿔주는 규칙입니다.

체크섬 = 엔트로피를 해시한 결과의 일부(앞부분 비트)를 니모닉 안에 같이 넣어둔 ‘오타 검출용 조각

지갑이 하는 일

사용자가 준 12단어를 보고, 그걸 비트 덩어리로 바꿉니다.

그 비트를 두 부분으로 나눕니다.

앞부분: 엔트로피

뒷부분: 체크섬(사용자가 입력한 니모닉에 “이미 들어있는 값”)

지갑은 앞부분(엔트로피)을 가지고 규칙대로 해시를 한 번 돌려서,
“체크섬이 원래라면 이 값이어야 한다”를 새로 만들어냅니다
→ 이게 “체크섬을 다시 계산한다”는 말입니다.

새로 만든 체크섬과, 니모닉에 들어있던 체크섬이 같으면 OK / 다르면 FAIL.

BIP-39는 이렇게 만듭니다.

엔트로피 ENT를 만든다 (12단어면 보통 128비트)

ENT를 SHA-256 해시하고, 그 해시의 **앞 4비트(=ENT/32)**를 체크섬으로 만든다

**[엔트로피 128비트] + [체크섬 4비트]**를 그냥 뒤에 붙인다(concatenate)

이렇게 얻은 132비트를 11비트씩 쪼갠다 → 12개 조각

각 11비트 조각(0~2047)을 단어목록 인덱스로 바꿔 단어를 고른다